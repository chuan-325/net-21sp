
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.4">
    
    
      
        <title>Chapter 1 计算机网络概述 - Notes for Computer Network</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.bde7dde4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ef6f36e2.min.css">
        
          
          
          <meta name="theme-color" content="#009485">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="teal" data-md-color-accent="teal">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#chapter-1" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Notes for Computer Network" class="md-header__button md-logo" aria-label="Notes for Computer Network" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Notes for Computer Network
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Chapter 1 计算机网络概述
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/chuan-325/net-21sp/" title="前往 GitHub 仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    chuan-325/net-21sp
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Notes for Computer Network" class="md-nav__button md-logo" aria-label="Notes for Computer Network" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Notes for Computer Network
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/chuan-325/net-21sp/" title="前往 GitHub 仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    chuan-325/net-21sp
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Chapter 1 计算机网络概述
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Chapter 1 计算机网络概述
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    导读
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11" class="md-nav__link">
    1.1 计算机网络的起源与发展
  </a>
  
    <nav class="md-nav" aria-label="1.1 计算机网络的起源与发展">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    组成信息网络：交换
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    计算机网络中的基本概念
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#internet" class="md-nav__link">
    Internet 发展历程
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#internet_2" class="md-nav__link">
    Internet 的标准化工作*
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#12-internet" class="md-nav__link">
    1.2 Internet 的组成
  </a>
  
    <nav class="md-nav" aria-label="1.2 Internet 的组成">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    网络边缘
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    网络核心
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#13" class="md-nav__link">
    1.3 计算机网络的性能
  </a>
  
    <nav class="md-nav" aria-label="1.3 计算机网络的性能">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    性能指标
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    计算机网络的非性能特征
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#14" class="md-nav__link">
    1.4 计算机网络体系结构
  </a>
  
    <nav class="md-nav" aria-label="1.4 计算机网络体系结构">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    协议与划分层次
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    具有五层协议的体系结构
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sap" class="md-nav__link">
    实体, 协议, 服务和服务访问点 (SAP)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpip" class="md-nav__link">
    TCP/IP 体系结构
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_32" class="md-nav__link">
    更多
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_33" class="md-nav__link">
    参考文献和资料
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../chap_02.md" class="md-nav__link">
        Chapter 2 直连网络
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    导读
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11" class="md-nav__link">
    1.1 计算机网络的起源与发展
  </a>
  
    <nav class="md-nav" aria-label="1.1 计算机网络的起源与发展">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    组成信息网络：交换
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    计算机网络中的基本概念
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#internet" class="md-nav__link">
    Internet 发展历程
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#internet_2" class="md-nav__link">
    Internet 的标准化工作*
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#12-internet" class="md-nav__link">
    1.2 Internet 的组成
  </a>
  
    <nav class="md-nav" aria-label="1.2 Internet 的组成">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    网络边缘
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    网络核心
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#13" class="md-nav__link">
    1.3 计算机网络的性能
  </a>
  
    <nav class="md-nav" aria-label="1.3 计算机网络的性能">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    性能指标
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    计算机网络的非性能特征
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#14" class="md-nav__link">
    1.4 计算机网络体系结构
  </a>
  
    <nav class="md-nav" aria-label="1.4 计算机网络体系结构">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    协议与划分层次
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    具有五层协议的体系结构
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sap" class="md-nav__link">
    实体, 协议, 服务和服务访问点 (SAP)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpip" class="md-nav__link">
    TCP/IP 体系结构
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_32" class="md-nav__link">
    更多
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_33" class="md-nav__link">
    参考文献和资料
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/chuan-325/net-21sp/edit/master/docs/chap_01.md" title="编辑此页" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="chapter-1">Chapter 1 计算机网络概述<a class="headerlink" href="#chapter-1" title="Permanent link">&para;</a></h1>
<h2 id="_1">导读<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Item</th>
<th>Content</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>内容</strong></td>
<td>计算机网络的起源与发展, Internet 的组成, 计算机网络的性能, 计算机网络体系结构</td>
</tr>
<tr>
<td><strong>要求</strong></td>
<td><strong>掌握</strong>: 计算机网络的组成; 分组交换原理; 计算机体系结构的演变思路与历程; 网络性能评价的指标与方法; 端-网-云结构的转变与形成<br/><strong>理解</strong>: 电路交换与报文交换的基本原理<br/><strong>了解</strong>: 计算机网络从需求到产生的基本过程; 计算机网络协议的标准化组织及标准的几种形态和转换过程</td>
</tr>
<tr>
<td><strong>重点</strong></td>
<td>计算机网络的起源, 组成, 理论基础, 性能评价及体系结构</td>
</tr>
<tr>
<td><strong>难点</strong></td>
<td>对总体通信时延的理解; 分层体系结构中层间协作的基本原理; 对时延带宽积的理解</td>
</tr>
</tbody>
</table>
<h2 id="11">1.1 计算机网络的起源与发展<a class="headerlink" href="#11" title="Permanent link">&para;</a></h2>
<blockquote>
<p>计算机网络领域知识中的常见路线:</p>
<p>基本机制 → (大规模) → 分布式情形 → (新的问题) → 优化 → ...</p>
<p>因此, 很多机制的实现都是打了很多次 "补丁" 之后的结果</p>
</blockquote>
<h3 id="_2">组成信息网络：交换<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<h4 id="circuit-switching">电路交换 (Circuit Switching)<a class="headerlink" href="#circuit-switching" title="Permanent link">&para;</a></h4>
<h5 id="_3">电路交换的概念<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h5>
<p>电路交换是面向连接的交换方式, 也就是只有在建立连接之后才能开始信息交换.</p>
<p>当电路交换中的主机数量增加, 就引入了<strong>交换机</strong> (switch) 来完成全网的交换任务, "交换" 意为动态分配通信资源.</p>
<p><img align="right" alt="电路交换." src="../chap_01.assets/c1-circuit-switching.png" style="height:200px" /></p>
<h5 id="_4">电路交换的步骤<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h5>
<ul>
<li>建立连接 (开始占用通信资源)</li>
<li>通话 (持续占用通信资源)</li>
<li>释放连接 (归还通信资源)</li>
</ul>
<h5 id="_5">电路交换的特点<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h5>
<p>以电路交换方式传送计算机数据效率低.</p>
<p>原因:</p>
<ul>
<li>计算机数据具有突发性 (burst), 传送数据的时间不到 10% ，甚至低于 1%;</li>
<li>面向连接的方式进行传输导致资源浪费, 因为被占用的通信线路绝大部分时间空闲</li>
</ul>
<h4 id="packet-switching">分组交换 (Packet Switching)<a class="headerlink" href="#packet-switching" title="Permanent link">&para;</a></h4>
<h5 id="_6">分组交换的概念<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h5>
<p>将 message 分为 packet, 并在首部加上控制信息, 然后分别逐跳转发到目的端.</p>
<h5 id="_7">分组交换的步骤<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h5>
<p><strong>发送端</strong>:</p>
<ol>
<li>把较长的报文划分成较短的, 固定长度的数据段</li>
<li>
<p>每一个数据段前面添加上首部 (header) 构成分组 (Packet)</p>
<ul>
<li>分组是互联网中传送的数据单元</li>
<li>每个首部都包含地址等<strong>控制信息</strong></li>
</ul>
</li>
<li>
<p>依次把各分组发送出去</p>
</li>
</ol>
<p><strong>中间结点</strong>:</p>
<ol>
<li>以<strong>存储转发</strong>的形式将分组<strong>逐跳</strong>转发至目的端</li>
</ol>
<blockquote>
<p><strong>中间结点</strong>, 即分组交换网络中的分组交换机. 两种最著名的类型:</p>
<ul>
<li>二层交换机 (link-layer-switch), 可以实现本地转发</li>
<li>路由器 (router, 有时也称三层交换机), 可以实现远地转发</li>
</ul>
<p><strong>路径</strong> (route/ path) : 一个分组经历的一系列分组交换机和通信链路称为通过该网络的路径.</p>
</blockquote>
<p><strong>接收端</strong>:</p>
<ol>
<li>收到分组后, 剥去分组的首部, 把数据恢复成为原来的报文<ul>
<li>这里我们假定分组在传输过程中没有出现差错, 在转发时也没有被丢弃</li>
</ul>
</li>
</ol>
<p><img align="right" alt="分组交换." src="../chap_01.assets/c1-packet-switching.png" style="height:300px" /></p>
<h5 id="_8">分组交换的特点<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h5>
<p><strong>优点</strong>:</p>
<ul>
<li>高效: 动态分配传输带宽，对通信链路<strong>逐段占用</strong> ，充分使用链路的带宽</li>
<li>灵活: 以分组为单位，查找路由和传送</li>
<li>迅速: <strong>不必先建立连接</strong>就能向其它主机发送分组</li>
<li>可靠: 自适应的路由选择，使网络有很好的生存性</li>
</ul>
<p><strong>问题</strong>:</p>
<ul>
<li>时延<ul>
<li>处理时延: 逐跳决策, 每个中间结点都需要进行路由查找</li>
<li>排队延时：分组在各结点存储转发时需要排队</li>
</ul>
</li>
<li>附加开销<ul>
<li>分组必须携带报头（首部），造成一定开销</li>
</ul>
</li>
</ul>
<blockquote>
<p>在分组交换中, 路径不必相同, 但是在短时间内可以认为每一个节点的数据路径稳定 (实际上稳定性并不是必需的属性).</p>
</blockquote>
<h4 id="_9">比较: 三种交换<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h4>
<p><img alt="比较三种交换." src="../chap_01.assets/c1-compare-three-switch.png" style="height:300px" /></p>
<ul>
<li><strong>电路交换</strong>: 面向连接, 全程连续传输, 像通过一个 "固定" 的 pipe</li>
<li><strong>报文交换</strong>: 整个报文的存储转发</li>
<li><strong>分组交换</strong>: 报文分组, 单组存储转发</li>
</ul>
<h3 id="_10">计算机网络中的基本概念<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<h4 id="_11">绘制网络的基本元素<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h4>
<p><strong>链路</strong> (link): 从一个结点到<strong>相邻结点</strong>的一段物理线路 (有线或无线), 而中间没有任何其他的交换结点.</p>
<p><strong>路径/ 路由</strong> (Path/ Route): 任意两点间/ 远端之间的连接线路, 可变.</p>
<blockquote>
<p>网络连通有不同的层次，最底层是一个或多个计算机通过物理介质<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup> 直连.</p>
</blockquote>
<p><strong>结点</strong> (node): 被连接的计算机/ 其它硬件, 分两类</p>
<ul>
<li>主机 (端系统): 传统 PC, 服务器, 智能手机, 智能家电, 传感设备等</li>
<li>网络内部交换结点：二层交换机, AP, 基站, 路由器等</li>
</ul>
<p><strong>云形图</strong>: 计算机网络中重要的图标，表示任意类型的网络, 将网络的内部结点与使用网络的外部结点区分开来</p>
<h4 id="_12">不同类型的网络连接结构<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h4>
<p><img align="right" alt="网络连接结构." src="../chap_01.assets/c1-nets.png" style="height:400px" /></p>
<p><strong>直连链路</strong>: 所有的结点都是直连 (直接连通) 的</p>
<p><strong>交换网络</strong>: 由若干结点和链路组成，主机间接连通</p>
<ul>
<li>主机 (host): 支持用户运行应用程序</li>
<li>交换结点 (switch): 存储和转发分组</li>
</ul>
<p><strong>互连网</strong> (internet): 网络的网络, 由路由器将网络和网络互连而成</p>
<ul>
<li>网络可以由网络的嵌套构成; 通过将云互联成更大的云，递归构建任意大的网络</li>
</ul>
<p><strong>互联网</strong> (Internet): 起源于美国, 已发展成为世界上最大的国际性计算机互联网</p>
<ul>
<li>根本性创新：将区别很大的不同类型的网络<sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup>互联</li>
<li>既是概念, 也是实例</li>
</ul>
<h3 id="internet">Internet 发展历程<a class="headerlink" href="#internet" title="Permanent link">&para;</a></h3>
<blockquote>
<p>序幕: ARPAnet 诞生</p>
</blockquote>
<h4 id="_13">第一发展阶段: 从专用网络向互联网发展<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h4>
<h4 id="internet_1">第二发展阶段: 建成三级结构的 Internet<a class="headerlink" href="#internet_1" title="Permanent link">&para;</a></h4>
<p><img alt="phase 2." src="../chap_01.assets/c1-Internet-phase-2.png" style="height:130px" /></p>
<ul>
<li>三级: 主干网 - 地区网 - 校园网/企业网</li>
<li>网络间通过路由器连接, 主机到主机的通信可能经过多种网络</li>
</ul>
<h4 id="isp-internet">第三发展阶段: 逐渐形成多层次 ISP 结构的 Internet<a class="headerlink" href="#isp-internet" title="Permanent link">&para;</a></h4>
<p><img alt="phase 3." src="../chap_01.assets/c1-Internet-phase-3.png" style="height:130px" /></p>
<ul>
<li><strong>ISP</strong> (Internet Service Provider): Internet 服务提供商, 如中国电信/联通/移动</li>
<li><strong>多宿</strong> (multi-home): ISP 与两个或更多提供商 ISP 连接，保障可靠性; 任何 ISP (除了第一层 ISP) 都可选择多宿</li>
<li><strong>对等</strong> (peer): 对等方的网络直接相连，不经过上级 ISP, 且相互之间无需结算和付费</li>
<li><strong>IXP</strong> (Internet Exchange Point，peer) 由第三方公司创建, 相当于网络中的 "汇合点" ，多个 ISP 能在这里共同对等 (成为 peer)</li>
</ul>
<h3 id="internet_2">Internet 的标准化工作*<a class="headerlink" href="#internet_2" title="Permanent link">&para;</a></h3>
<p>Internet 标准制定的四个阶段:</p>
<ul>
<li>草案 (Internet Draft): 这个阶段还不是 RFC 文档, 有效期 6 个月</li>
<li>建议标准(Proposed Standard): 从这个阶段开始就成为 RFC (Request For Comments) 文档</li>
<li>草案标准(Draft Standard)</li>
<li>互联网标准(Internet Standard)</li>
</ul>
<h2 id="12-internet">1.2 Internet 的组成<a class="headerlink" href="#12-internet" title="Permanent link">&para;</a></h2>
<p>经典的 Internet 由网络边缘和网络核心组成:</p>
<ul>
<li><strong>网络边缘</strong>: 主机(端系统), 接入网</li>
<li><strong>网络核心</strong>: 分组交换机和链路构成的网状网络, 它向网络边缘的大量主机提供连通性</li>
</ul>
<p>如今, 实际的 Internet 演变为 <strong>"端-网-云"</strong> 结构.</p>
<h3 id="_14">网络边缘<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h3>
<h4 id="end-system">端系统 (End System)<a class="headerlink" href="#end-system" title="Permanent link">&para;</a></h4>
<p>端系统, 即因特网上的所有主机, 亦即网络边缘的所有主机组成的系统.</p>
<h5 id="_15">端系统间的通信方式<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h5>
<h6 id="-cs-clientserver">客户-服务器方式 (C/S, Client/Server)<a class="headerlink" href="#-cs-clientserver" title="Permanent link">&para;</a></h6>
<p><img alt="c/s." src="../chap_01.assets/c1-client-server.png" style="height:200px" /></p>
<p>C/S 描述的是进程之间服务和被服务的关系, <strong>客户</strong> (client) 和<strong>服务器</strong> (server) 指通信中涉及的两个应用进程.</p>
<table>
<thead>
<tr>
<th>Item</th>
<th>客户端</th>
<th>服务器</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>定义</strong></td>
<td>服务的请求方</td>
<td>服务的提供方</td>
</tr>
<tr>
<td><strong>行为</strong></td>
<td>被用户调用后运行打算, 通信时主动向远地服务器发起通信(请求服务)</td>
<td>专门用来提供某种服务的程序, 可同时处理多个远地或本地客户的请求; <br>系统启动后即自动调用并一直不断地运行着, 被动地等待并接受来自各地的客户的通信请求,</td>
</tr>
<tr>
<td><strong>对方的地址</strong></td>
<td>必须知道服务器程序的地址</td>
<td>不需要知道客户程序的地址</td>
</tr>
<tr>
<td><strong>底层支持</strong></td>
<td>不需要特殊的硬件和很复杂的操作系统</td>
<td>一般需要强大的硬件和高级的操作系统支持</td>
</tr>
</tbody>
</table>
<h6 id="p2p-peer-to-peer">对等方式 (P2P, Peer to Peer)<a class="headerlink" href="#p2p-peer-to-peer" title="Permanent link">&para;</a></h6>
<p><img alt="p2p." src="../chap_01.assets/c1-p2p.png" style="height:200px" /></p>
<p>采用 P2P 模式的通信中, 两个主机不区分服务请求方和服务提供方, 进行平等且对等的连接通信.</p>
<p>其本质仍然是使用 C/S 方式, 但是对等连接中的每一个主机既是客户同时又是服务器.</p>
<p>相比 C/S 架构, P2P 方式的优势会在性能瓶颈和单点故障时体现出来.</p>
<h4 id="access-network">接入网 (Access Network)<a class="headerlink" href="#access-network" title="Permanent link">&para;</a></h4>
<p><img alt="access-network." src="../chap_01.assets/c1-access-network.png" style="height:200px" /></p>
<p><strong>接入网</strong>: 将端系统连接到<strong>边缘路由器</strong> (edge router)<sup id="fnref:3"><a class="footnote-ref" href="#fn:3">3</a></sup> 的物理链路.</p>
<p>常见的接入网使用环境: 家庭/企业接入 (数字用户线, 电缆, 光纤, LAN[接入以太网], WLAN[接入 Wi-Fi], etc), 广域无线网络接入 (如 4G/5G).</p>
<h3 id="_16">网络核心<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h3>
<p><strong>网络核心</strong>是互联端系统的<strong>分组交换机</strong>和<strong>链路</strong>构成的网状网络, 向网络边缘中的大量主机提供连通性 (非具体业务)</p>
<h4 id="_17">分组交换机<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h4>
<p><strong>分组交换机</strong>以存储转发传输模式对分组进行传输, 依据传输时转发所在的层次可以分为两类:</p>
<ul>
<li>路由器 (三层交换机)</li>
<li>二层交换机</li>
</ul>
<h4 id="_18">网络核心组成<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h4>
<p><img alt="c1-component-of-network-core." src="../chap_01.assets/c1-component-of-network-core.png" style="height:150px" /></p>
<p>网络核心由十多个第一层 ISP 和数十万个较低层 ISP 组成.</p>
<blockquote>
<p>除去前面提到的基本的多层 ISP 结构, <strong>内容提供商</strong> (如上图中的 Google) 也创建自己的网络，直接在可能的地方与 ISP 互联.</p>
</blockquote>
<h2 id="13">1.3 计算机网络的性能<a class="headerlink" href="#13" title="Permanent link">&para;</a></h2>
<h3 id="_19">性能指标<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h3>
<h4 id="data-rate">速率 (data rate)<a class="headerlink" href="#data-rate" title="Permanent link">&para;</a></h4>
<p>一般以<strong>数据率</strong>(data rate) / <strong>比特率</strong>(bit rate) 衡量.</p>
<p>网络技术中, <strong>数据率</strong>即数字信道上传送数据的速率.</p>
<p>单位: b/s (bit/s, bps), kb/s, Mb/s, Gb/s, Tb/s</p>
<h4 id="bandwidth">带宽 (bandwidth)<a class="headerlink" href="#bandwidth" title="Permanent link">&para;</a></h4>
<p>计算机网络中, <strong>带宽</strong>即数字信道所能传送的 "最高数据率".</p>
<blockquote>
<p>在通信领域, "带宽" (bandwidth)本来是指信号具有的频带宽度, 单位是 Hz.</p>
</blockquote>
<p>网络的带宽: 在一段特定的时间内网络所能传送的比特数.</p>
<h4 id="throughput">吞吐量 (throughput)<a class="headerlink" href="#throughput" title="Permanent link">&para;</a></h4>
<p><strong>吞吐量</strong>: 单位时间内通过某个网络 (或信道, 接口) 的数据量.</p>
<blockquote>
<p><strong>比较</strong>: 带宽 vs 吞吐量</p>
<table>
<thead>
<tr>
<th>带宽</th>
<th>吞吐量</th>
</tr>
</thead>
<tbody>
<tr>
<td>一般指链路上每秒<strong>能</strong>传输的比特数</td>
<td>表示系统的测量性能，即每秒<strong>实际</strong>传输的比特数</td>
</tr>
</tbody>
</table>
<p>例如 : 一段带宽为 10 Mbps 的链路连接的一对节点可能只达到 2 Mbps 的吞吐量.</p>
</blockquote>
<p>计算吞吐量: <span class="arithmatex">\(\text{Throughput} = \frac{\text{Transfer Size}}{\text{Transfer Time}}\)</span>,</p>
<ul>
<li>Transfer Size: 传输的数据大小,</li>
<li><strong>Transfer Time</strong>: <span class="arithmatex">\(=\text{RTT} + \frac{\text{Transfer Size}}{\text{Bandwidth}}\)</span><ul>
<li>发送请求并返回数据的时间 = RTT,</li>
<li>把数据传到网上的时间 = <span class="arithmatex">\(\frac{\text{Transfer Size}}{\text{Bandwidth}}\)</span>,</li>
</ul>
</li>
</ul>
<blockquote>
<p>化简可得:</p>
<div class="arithmatex">\[
\text{Throughput}
= \frac{\text{Transfer Size}}{\text{RTT} + \frac{\text{Transfer Size}}{\text{Bandwidth}}}
\\=\frac{1}{\frac{\text{RTT}}{\text{Transfer Size}} + \frac{1}{\text{Bandwidth}}},
\]</div>
<p>因此, 传输更大量的数据 (RTT 和 Bandwidth 基本固定不变, Transfer Size 增加) 有助于提高吞吐量.</p>
<p>由于</p>
<div class="arithmatex">\[
\lim_{\text{Transfer_Size}\rightarrow +\infty}\frac{1}{\frac{\text{RTT}}{\text{Transfer Size}} + \frac{1}{\text{Bandwidth}}}=\text{Bandwidth},
\]</div>
<p>可知: 当数据量趋于无限大时, 吞吐量将接近网络带宽</p>
</blockquote>
<h4 id="latencydelay">时延/延迟 (latency/delay)<a class="headerlink" href="#latencydelay" title="Permanent link">&para;</a></h4>
<p><strong>发送时延</strong>: 发送数据时，数据块<strong>从结点进入到传输介质</strong>所需要的时间<sup id="fnref:4"><a class="footnote-ref" href="#fn:4">4</a></sup> .</p>
<div class="arithmatex">\[
\text{发送时延} = \frac{\text{数据块长度 (单位: b)}}{\text{发送速率 (单位: b/s)}}
\]</div>
<p><strong>传播时延</strong>: 电磁波在信道中传播一定的距离需要花费的时间.</p>
<div class="arithmatex">\[
\text{传播时延} = \frac{\text{信道长度 (单位: m)}}{\text{信号在信道上的传播速率 (单位: m/s)}}
\]</div>
<blockquote>
<ul>
<li>在不同介质的信道中, 电磁波的传播速度不同.<ul>
<li>例如: 光纤 <span class="arithmatex">\(2\times 10^8\)</span> m/s, 电缆 <span class="arithmatex">\(2.3\times 10^8\)</span> m/s.</li>
</ul>
</li>
<li><strong>信号传输速率 (即发送速率)</strong> 和<strong>信号在信道上的传播速率</strong>是完全不同的概念<ul>
<li><strong>信号传输速率</strong>: 发送速率, 从端推入链路的速率, 与带宽有关</li>
<li><strong>信号在信道上的传播速率</strong>: 在链路上传播的速率</li>
</ul>
</li>
</ul>
</blockquote>
<p><strong>处理时延</strong>: 主机或路由器在收到分组时进行一些必要的处理所花费的时间.</p>
<blockquote>
<p>例如: 分析分组首部, 差错检验, 查找路由等过程</p>
</blockquote>
<p><strong>排队时延</strong>: 结点缓存队列中分组排队所经历的时延. (包括等待处理的输入队列和等待转发的输出队列)</p>
<blockquote>
<p>排队时延的长短, 往往取决于网络中当时的通信量.</p>
</blockquote>
<h5 id="_20">比较: 四种延迟<a class="headerlink" href="#_20" title="Permanent link">&para;</a></h5>
<h6 id="_21">产生延迟的位置<a class="headerlink" href="#_21" title="Permanent link">&para;</a></h6>
<p><img alt="4 latency." src="../chap_01.assets/c1-4-latency.png" style="height:200px" /></p>
<h6 id="_22">四种延迟的定义比较<a class="headerlink" href="#_22" title="Permanent link">&para;</a></h6>
<table>
<thead>
<tr>
<th align="left">Item</th>
<th>定义</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">传输时延 (发送时延)</td>
<td>数据包大小 <span class="arithmatex">\(\div\)</span> 带宽</td>
<td>从结点发到链路上的用时</td>
</tr>
<tr>
<td align="left">传播时延</td>
<td>距离 <span class="arithmatex">\(\div\)</span> 速度</td>
<td>与线路的<strong>物理特性</strong>有关</td>
</tr>
<tr>
<td align="left">处理时延</td>
<td>在结点处处理 packet 的时间</td>
<td></td>
</tr>
<tr>
<td align="left">排队时延</td>
<td>在结点的 buffer 队列排队</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>注意</strong>:</p>
<ul>
<li>对于高速网络链路，我们提高的仅仅是数据的<strong>发送速率</strong>, 而不是比特在链路上的传播速率,<ul>
<li>提高链路带宽 = 降低数据的发送时延;</li>
</ul>
</li>
<li>若要提高传播速率, 应当换用物理传播速率高的物理传播介质.</li>
</ul>
<h5 id="_23">链路/信道的性能特征: 带宽 &amp; 时延<a class="headerlink" href="#_23" title="Permanent link">&para;</a></h5>
<p><strong>带宽</strong>和<strong>时延</strong>结合起来,定义了一个<strong>给定链路或信道</strong>的<strong>性能特征</strong>.</p>
<p>二者相对的重要性依赖于应用, 即: 需要看具体的传输条件.</p>
<p>分析具体问题时, 需要考虑四项时延中的哪一项起主要作用.</p>
<blockquote>
<p><strong>例</strong> (带宽与时延)</p>
<p><img alt="example of link property." src="../chap_01.assets/c1-link-property-example.png" style="height:310px" /></p>
</blockquote>
<h4 id="bandwidth-delay-product">时延带宽积 (Bandwidth-delay Product)<a class="headerlink" href="#bandwidth-delay-product" title="Permanent link">&para;</a></h4>
<blockquote>
<p>时延和带宽共同定义了信道的传输性能, 那么, 是否存在能将他们结合起来的物理量呢?</p>
</blockquote>
<p><strong>时延带宽积</strong> <span class="arithmatex">\(=\text{时延}\times\text{带宽}\)</span>, 又称为以比特为单位的链路长度, 表示 "在发送端<strong>发送 1 bit</strong>到<strong>这个 bit 被接收</strong>的这段时间内，<strong>一共发送了多少个 bit</strong>". 这个数据总长度表示了<strong>链路上某时所能容纳的最大 bit 数</strong>, 亦即 <strong>链路上已发送但尚未确认的数据</strong>。</p>
<p>如果将一对进程之间的<strong>信道</strong>看成一个中空的<strong>管道</strong>, <strong>时延</strong>相当于管道的长度, <strong>带宽</strong>相当于管道的截面积, 那么<strong>时延和带宽的积</strong>就是管道的<strong>容积,</strong> 即<strong>链路上所能容纳的比特数</strong>.</p>
<p><img alt="bandwidth-delay product." src="../chap_01.assets/c1-bandwidth-delay-product.png" style="height:80px" /></p>
<p><strong>管道中的比特数</strong>表示<strong>从发送端发出的尚未达到接收端的比特</strong>, 对于一条正在传送数据的链路, 只有在代表链路的管道都充满比特时, 链路才得以充分利用.</p>
<blockquote>
<p>所以, 如果你愿意, 可以把这个量看做链路的 "容积".</p>
</blockquote>
<h4 id="rtt">往返时间 RTT<a class="headerlink" href="#rtt" title="Permanent link">&para;</a></h4>
<blockquote>
<p>往返时间 (RTT, round-trip time) 是一个用来帮助了解单次交互时间的量.</p>
</blockquote>
<table>
<thead>
<tr>
<th>Item</th>
<th align="left">定义</th>
</tr>
</thead>
<tbody>
<tr>
<td>时延</td>
<td align="left">数据从网络的一端<strong>传送</strong>到另一端所需花费的时间<br/>&nbsp;&nbsp;&nbsp;&nbsp;从结点到结点单程数据传输全过程所花费的时间</td>
</tr>
<tr>
<td><strong>RTT</strong></td>
<td align="left">数据从网络的一端传到另一端<strong>并返回</strong>所花费的时间<br/>&nbsp;&nbsp;&nbsp;&nbsp;数据在链路上花费的时间</td>
</tr>
</tbody>
</table>
<p><strong>RTT</strong> 通常认为是 <span class="arithmatex">\(\text{传播时延}\times 2+\text{末端处理时间}\)</span>, 其中 <span class="arithmatex">\(\text{末端处理时间}\)</span> 常常被忽略.</p>
<p>它的计时范围可以简单理解为 <strong>"从 [A 将数据发送到 B] 到 [A 确认信息已经发送到 B]"</strong>.</p>
<p>因为 RTT 和传播时延强相关, 所以可以认为 RTT 是一个与线路物理特性非常相关的量.</p>
<h4 id="_24">利用率<a class="headerlink" href="#_24" title="Permanent link">&para;</a></h4>
<h5 id="_25">信道利用率<a class="headerlink" href="#_25" title="Permanent link">&para;</a></h5>
<p><strong>信道利用率</strong>: 信道有百分之几的时间是被利用的<sup id="fnref:5"><a class="footnote-ref" href="#fn:5">5</a></sup> .</p>
<blockquote>
<p>完全空闲的信道, 其信道利用率为 0.</p>
</blockquote>
<p><img align="right" alt="c1-utility-of-network." src="../chap_01.assets/c1-utility-of-network.png" style="height:150px" /></p>
<p><strong>信道利用率并非越高越好</strong>. 根据排队论的理论, 当某信道的利用率增大时, 该信道引起的<strong>时延</strong>也就迅速增加.</p>
<p>令 <span class="arithmatex">\(D_0\)</span> 表示网络空闲时的时延, <span class="arithmatex">\(D\)</span> 表示网络当前的时延, <span class="arithmatex">\(U\in[0,1]\)</span> 表示信道利用率, 则在适当的假定条件下, 当前时延可以这样计算:</p>
<div class="arithmatex">\[
D=\frac{D_0}{1-U},
\]</div>
<p>从该式中可以看到, <strong>当利用率增加时, 时延也将迅速增加</strong>.</p>
<h5 id="_26">网络利用率<a class="headerlink" href="#_26" title="Permanent link">&para;</a></h5>
<p><strong>网络利用率</strong>: 全网络的信道利用率的加权平均值, 即 <span class="arithmatex">\(\frac{\sum\text{信道利用总量}}{\sum\text{总信道容量}}\)</span>.</p>
<blockquote>
<p>实际上这是一个很难真实计算的值, 但以其为指导发展了基于负载均衡的 "流量工程" 方向.</p>
</blockquote>
<h3 id="_27">计算机网络的非性能特征<a class="headerlink" href="#_27" title="Permanent link">&para;</a></h3>
<p>费用, 质量, 标准化, 可靠性, 可扩展性和可升级性, 易于管理和维护...</p>
<h2 id="14">1.4 计算机网络体系结构<a class="headerlink" href="#14" title="Permanent link">&para;</a></h2>
<h3 id="_28">协议与划分层次<a class="headerlink" href="#_28" title="Permanent link">&para;</a></h3>
<p><strong>网络协议</strong> (network protocol): 为进行网络中的数据交换而建立的规则, 标准或约定.</p>
<blockquote>
<p>网络协议等规则明确规定了所交换的数据的格式以及有关的同步问题; 这里的同步是广义的, 含有时序的意义.</p>
</blockquote>
<p><strong>网络协议的三要素</strong>:</p>
<ul>
<li>语法: 数据与控制信息的结构或格式</li>
<li>语义: 需要发出何种控制信息, 完成何种动作, 做出何种响应</li>
<li>同步: 事件实现顺序的详细说明</li>
</ul>
<p><strong>分层网络模型</strong> (layered Network Model) 将通信网络中的工作分为若干层次, 使得每一层次利用下层提供的服务实现一些服务, 以便本层向上层或向用户提供服务.</p>
<blockquote>
<p>理论模型: 开放系统互联 (OSI，Open Systems Interconnection) 参考模型</p>
<p>实际架构: 互联网体系结构 (<strong>TCP/IP 体系结构</strong>）</p>
</blockquote>
<ul>
<li>分层的优点: 层间独立/灵活性好/ 结构上易分割/ 易于实现&amp;维护/ 能促进标准化</li>
<li>分层的缺点: 一些功能在不同层次重复出现, 产生额外开销, etc</li>
</ul>
<p>各层完成的功能主要有:</p>
<ul>
<li>差错控制</li>
<li>流量控制</li>
<li>分段-重装 (数据块的划分)</li>
<li>复用-分用 (连接的复用)</li>
<li>建立连接-释放连接</li>
</ul>
<p><strong>计算机网络的体系结构</strong>(computer network architecture): 计算机网络的各层及其协议的集合, or say, 这个计算机网络及其构件所应完成的功能的精确定义[GREE82].</p>
<blockquote>
<p>体系结构是抽象的, 实现则是具体的软硬件.</p>
</blockquote>
<h3 id="_29">具有五层协议的体系结构<a class="headerlink" href="#_29" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>层次</th>
<th>任务</th>
<th>例子</th>
<th>协议数据单元 (PDU)</th>
</tr>
</thead>
<tbody>
<tr>
<td>应用层</td>
<td>通过<strong>应用进程间的交互</strong>完成特定的网络应用</td>
<td>域名系统 DNS, HTTP, SMTP</td>
<td>报文/message</td>
</tr>
<tr>
<td>运输层</td>
<td>向<strong>两台主机中进程之间的通信</strong>提供<strong>通用的数据传输</strong>服务</td>
<td>传输控制协议 TCP<br>用户数据报协议 UDP</td>
<td>TCP: 报文段 (segment)<br>UDP: 用户数据报 (user datagram)</td>
</tr>
<tr>
<td>网络层</td>
<td>为分组交换网上的<strong>不同</strong>主机提供通信服务</td>
<td>TCP/IP 体系中的网际协议 IP</td>
<td>分组 (IP 数据报/ 数据报) or 包 (packet)</td>
</tr>
<tr>
<td>链路层</td>
<td>为<strong>链路上的数据传输</strong>提供服务 (*)</td>
<td></td>
<td>帧 (frame)</td>
</tr>
<tr>
<td>物理层</td>
<td>为<strong>物理媒介上的数据传输</strong>提供服务 (*)</td>
<td></td>
<td>bit?</td>
</tr>
</tbody>
</table>
<h4 id="_30">关于网络体系结构各层次的补充说明<a class="headerlink" href="#_30" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>应用层</strong> (application layer): 定义应用进程间通信和交互的规则;</li>
<li><strong>运输层</strong> (transport layer):<ol>
<li>传输控制协议 TCP (Transmission Control Protocol) 提供<strong>面向连接的</strong> &amp; <strong>可靠的</strong>数据传输服务;</li>
<li>用户数据报协议 UDP (User Datagram Protocol) 提供<strong>无连接的</strong> &amp; <strong>尽最大努力的</strong> (best-effort) 数据传输服务 (不保证数据传输的可靠性);</li>
</ol>
</li>
<li><strong>网络层</strong> (network layer): 以互联网为例, 互联网的网络层协议是无连接的网际协议 IP (Internet Protocol) 和许多种路由选择协议</li>
<li><strong>数据链路层</strong> (data link layer):<ol>
<li>将网络层交下的 IP 数据包组装 (framing) 为帧;</li>
<li>在相邻结点间的链路上传送帧;</li>
</ol>
</li>
<li><strong>物理层</strong> (physical layer):<ol>
<li>物理层考虑物理量与信息的 1 bit 的 '0' 和 '1' 对应的关系和 'bit' 的识别等;</li>
<li>物理层不考虑 bit 的解释;</li>
<li>物理层的协议<strong>不包括</strong>物理媒介, 物理媒介在物理层的更下层.</li>
</ol>
</li>
<li>TCP/IP 协议不一定单指 TCP 和 IP 这两个具体协议, 而是常常表示整个 TCP/IP 协议族;</li>
<li>某一层次的<strong>协议数据单元</strong> (PDU): 对等层次 (peer layer) 之间传送的数据单位.</li>
</ol>
<h4 id="_31">数据在各层次之间的传递过程示意图<a class="headerlink" href="#_31" title="Permanent link">&para;</a></h4>
<p><img :=":" alt="c1-layered-model-mechanism." src="../chap_01.assets/c1-layered-model-mechanism.png" style="height:250px" /></p>
<blockquote>
<p>注意: 传送比特流时, 应从<strong>首部</strong>开始传输.</p>
</blockquote>
<h3 id="sap">实体, 协议, 服务和服务访问点 (SAP)<a class="headerlink" href="#sap" title="Permanent link">&para;</a></h3>
<p><strong>实体</strong> (entity): 任何可以发送或接收信息的硬件或软件进程.</p>
<p><strong>对等实体</strong> (peer entity): 位于不同系统的<strong>同一层</strong>内相互交互的实体.</p>
<p><strong>网络协议</strong>: 为进行网络中的数据交换建立的规则, 标准或约定, 控制两个<strong>对等实体</strong>进行通信的规则的集合.</p>
<p>网络协议的<strong>层次</strong>: 一台机器上的第 N 层与另一台机器上的第 N 层对话所使用的若干规则称为第 N 层协议.</p>
<p><img :=":" alt="c1-between-layers." src="../chap_01.assets/c1-between-layers.png" style="height:150px" /></p>
<p><strong>服务</strong> (service): 由下层向上层通过层间接口提供.</p>
<p><strong>服务接口</strong>: 同一系统上/ 下层之间的协议.</p>
<p><strong>服务访问点/ SAP</strong> (Service Access Point): 同一系统相邻两层的实体进行交互的地方.</p>
<p><strong>服务数据单元/ SDU</strong> (Service Data Unit): 层之间交换数据的单位.</p>
<blockquote>
<p><strong>SDU</strong> 区别于同层的 'PDU', 并且不一定要与 PDU 相同, 可以是多个 SDU 组成 PDU or 多个 PDU 组成 SDU.</p>
</blockquote>
<h4 id="vs">比较: 协议 vs 服务<a class="headerlink" href="#vs" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Item</th>
<th>区别</th>
<th>联系</th>
</tr>
</thead>
<tbody>
<tr>
<td>协议</td>
<td>控制对等实体之间的通信, i.e. 同一层内</td>
<td>协议控制本层的通信行为, 使其能向上一层提供服务</td>
</tr>
<tr>
<td>服务</td>
<td>下层向上层提供; 第 N 层向第 (N+1) 层提供</td>
<td>为实现本层的协议, 需要使用下一层提供的服务</td>
</tr>
</tbody>
</table>
<h3 id="tcpip">TCP/IP 体系结构<a class="headerlink" href="#tcpip" title="Permanent link">&para;</a></h3>
<p>细腰结构 (narrow-waist) 是网络体系结构模型中最典型的特征.</p>
<p>TCP/IP 协议可以为各式各样的应用提供服务 (所谓的 everything over IP), 同时 TCP/IP 协议也允许 IP 协议在各式各样的网络构成的互联网上运行 (所谓的 IP over everything).</p>
<p><img :=":" alt="c1-tcpip-family." src="../chap_01.assets/c1-tcpip-family.png" style="height:180px" /></p>
<h2 id="_32">更多<a class="headerlink" href="#_32" title="Permanent link">&para;</a></h2>
<p>计算机网络系统设计准则:</p>
<ul>
<li>R. Bush and D. Meyer. Some Internet Architectural Guidelines and Philosophy. IETF RFC 3439, Dec. 2003.</li>
<li>J. Saltzer et al.. End-to-end arguments in system design. ACM Transactions on Computer Systems (TOCS), 1984, 2(4): 277-288.</li>
</ul>
<p>互联网细腰模型及演化:</p>
<ul>
<li>S. Akhshabi et al. The Evolution of Layered Protocol Stacks Leads to an Hourglass-Shaped Architecture. ACM SIGCOMM 2011.</li>
<li>L. Popa et al. HTTP as the Narrow Waist of the Future Internet. ACM HotNets 2010.</li>
</ul>
<h2 id="_33">参考文献和资料<a class="headerlink" href="#_33" title="Permanent link">&para;</a></h2>
<ol>
<li><a href="https://www.cnblogs.com/PeterShang008/p/13381295.html">时延，时延带宽积，RTT 与利用率 - 终究浮光掠影 - 博客园</a></li>
<li><a href="https://zh.wikipedia.org/wiki/带宽时延乘积">带宽时延乘积 - 维基百科，自由的百科全书</a></li>
</ol>
<!-- Footnotes -->

<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>物理直连介质, 主要有同轴电缆、铜线、光纤、无线电频谱等&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>网络类型举例: 有线网络, 无线局域网, 4G/ 5G, 传感网 ……&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:3">
<p>边缘路由器: 端系统到任何其它远程系统的路径上的第一台路由器&#160;<a class="footnote-backref" href="#fnref:3" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
<li id="fn:4">
<p>即从发送第一个比特起，到最后一个比特发送完毕所需的时间&#160;<a class="footnote-backref" href="#fnref:4" title="Jump back to footnote 4 in the text">&#8617;</a></p>
</li>
<li id="fn:5">
<p>信道被利用 = 有数据通过信道&#160;<a class="footnote-backref" href="#fnref:5" title="Jump back to footnote 5 in the text">&#8617;</a></p>
</li>
</ol>
</div>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href=".." class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                上一页
              </span>
              Home
            </div>
          </div>
        </a>
      
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["search.suggest", "search.highlight"], "translations": {"clipboard.copy": "\u590d\u5236", "clipboard.copied": "\u5df2\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\uff0c\\u3002]+", "search.placeholder": "\u641c\u7d22", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../assets/javascripts/workers/search.4fa0e4ee.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.1d3bfcf1.min.js"></script>
      
        <script src="../javascripts/config.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>